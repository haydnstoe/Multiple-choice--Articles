<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Article Usage Test</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2em;
      line-height: 1.5;
    }
    fieldset {
      border: 1px solid #ccc;
      padding: 1em;
      margin-bottom: 1em;
    }
    fieldset.invalid {
      border-color: red;
    }
    legend {
      font-weight: bold;
    }
    .options label {
      margin-right: 1em;
      cursor: pointer;
    }
    #progress {
      margin-bottom: 1em;
      font-size: 1.1em;
    }
    .error-message {
      color: red;
      margin-bottom: 1em;
    }
    #results {
      margin-top: 2em;
      border-top: 1px solid #ccc;
      padding-top: 1em;
    }
    .question-result {
      margin-bottom: 1em;
    }
    .correct {
      color: green;
      font-weight: bold;
    }
    .incorrect {
      color: red;
      font-weight: bold;
    }
    .explanation {
      margin-left: 1.5em;
      font-size: 0.9em;
    }
  </style>
</head>
<body>

  <h1>Article Usage Test</h1>
  <p>Choose <em>the</em>, <em>a/an</em>, or <em>nothing</em> for each blank.</p>
  <div id="progress">Questions answered: 0 of 27</div>
  <div id="error" class="error-message"></div>

  <form id="articleTest">

    <fieldset id="q1">
      <legend>1. I was strolling along ___ Via Sistina one morning.</legend>
      <div class="options">
        <label><input type="radio" name="q1" value="the"> the</label>
        <label><input type="radio" name="q1" value="a"> a/an</label>
        <label><input type="radio" name="q1" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q2">
      <legend>2. ___ Fiat Croma shot past.</legend>
      <div class="options">
        <label><input type="radio" name="q2" value="the"> the</label>
        <label><input type="radio" name="q2" value="a"> a/an</label>
        <label><input type="radio" name="q2" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q3">
      <legend>3. It screeched to ___ smoky halt.</legend>
      <div class="options">
        <label><input type="radio" name="q3" value="the"> the</label>
        <label><input type="radio" name="q3" value="a"> a/an</label>
        <label><input type="radio" name="q3" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q4">
      <legend>4. A hundred feet up ___ road.</legend>
      <div class="options">
        <label><input type="radio" name="q4" value="the"> the</label>
        <label><input type="radio" name="q4" value="a"> a/an</label>
        <label><input type="radio" name="q4" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q5">
      <legend>5. Hundred feet up ___ road.</legend>
      <div class="options">
        <label><input type="radio" name="q5" value="the"> the</label>
        <label><input type="radio" name="q5" value="a"> a/an</label>
        <label><input type="radio" name="q5" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q6">
      <legend>6. Without pause, ___ driver lurched into reverse.</legend>
      <div class="options">
        <label><input type="radio" name="q6" value="the"> the</label>
        <label><input type="radio" name="q6" value="a"> a/an</label>
        <label><input type="radio" name="q6" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q7">
      <legend>7. He barreled down ___ street.</legend>
      <div class="options">
        <label><input type="radio" name="q7" value="the"> the</label>
        <label><input type="radio" name="q7" value="a"> a/an</label>
        <label><input type="radio" name="q7" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q8">
      <legend>8. In ___ direction of a parking space.</legend>
      <div class="options">
        <label><input type="radio" name="q8" value="the"> the</label>
        <label><input type="radio" name="q8" value="a"> a/an</label>
        <label><input type="radio" name="q8" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q9">
      <legend>9. Towards ___ parking space.</legend>
      <div class="options">
        <label><input type="radio" name="q9" value="the"> the</label>
        <label><input type="radio" name="q9" value="a"> a/an</label>
        <label><input type="radio" name="q9" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q10">
      <legend>10. Precisely ___ length of his Fiat.</legend>
      <div class="options">
        <label><input type="radio" name="q10" value="the"> the</label>
        <label><input type="radio" name="q10" value="a"> a/an</label>
        <label><input type="radio" name="q10" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q11">
      <legend>11. He crashed into ___ parked Renault.</legend>
      <div class="options">
        <label><input type="radio" name="q11" value="the"> the</label>
        <label><input type="radio" name="q11" value="a"> a/an</label>
        <label><input type="radio" name="q11" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q12">
      <legend>12. Nothing happened for ___ minute.</legend>
      <div class="options">
        <label><input type="radio" name="q12" value="the"> the</label>
        <label><input type="radio" name="q12" value="a"> a/an</label>
        <label><input type="radio" name="q12" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q13">
      <legend>13. There was just ___ hiss of escaping steam.</legend>
      <div class="options">
        <label><input type="radio" name="q13" value="the"> the</label>
        <label><input type="radio" name="q13" value="a"> a/an</label>
        <label><input type="radio" name="q13" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q14">
      <legend>14. Then ___ driver leaped from his car.</legend>
      <div class="options">
        <label><input type="radio" name="q14" value="the"> the</label>
        <label><input type="radio" name="q14" value="a"> a/an</label>
        <label><input type="radio" name="q14" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q15">
      <legend>15. He gazed at ___ devastation before him.</legend>
      <div class="options">
        <label><input type="radio" name="q15" value="the"> the</label>
        <label><input type="radio" name="q15" value="a"> a/an</label>
        <label><input type="radio" name="q15" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q16">
      <legend>16. Splintered tail lights, ___ exhaust pipe grazing pavement.</legend>
      <div class="options">
        <label><input type="radio" name="q16" value="the"> the</label>
        <label><input type="radio" name="q16" value="a"> a/an</label>
        <label><input type="radio" name="q16" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q17">
      <legend>17. Grazing ___ pavement.</legend>
      <div class="options">
        <label><input type="radio" name="q17" value="the"> the</label>
        <label><input type="radio" name="q17" value="a"> a/an</label>
        <label><input type="radio" name="q17" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q18">
      <legend>18. Dropped from ___ sky.</legend>
      <div class="options">
        <label><input type="radio" name="q18" value="the"> the</label>
        <label><input type="radio" name="q18" value="a"> a/an</label>
        <label><input type="radio" name="q18" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q19">
      <legend>19. He kicked ___ Renault in the side.</legend>
      <div class="options">
        <label><input type="radio" name="q19" value="the"> the</label>
        <label><input type="radio" name="q19" value="a"> a/an</label>
        <label><input type="radio" name="q19" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q20">
      <legend>20. Renault in ___ side.</legend>
      <div class="options">
        <label><input type="radio" name="q20" value="the"> the</label>
        <label><input type="radio" name="q20" value="a"> a/an</label>
        <label><input type="radio" name="q20" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q21">
      <legend>21. Denting ___ door.</legend>
      <div class="options">
        <label><input type="radio" name="q21" value="the"> the</label>
        <label><input type="radio" name="q21" value="a"> a/an</label>
        <label><input type="radio" name="q21" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q22">
      <legend>22. Punishing its owner for having ___ gall to park there.</legend>
      <div class="options">
        <label><input type="radio" name="q22" value="the"> the</label>
        <label><input type="radio" name="q22" value="a"> a/an</label>
        <label><input type="radio" name="q22" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q23">
      <legend>23. Peace returned to ___ Via Sistina.</legend>
      <div class="options">
        <label><input type="radio" name="q23" value="the"> the</label>
        <label><input type="radio" name="q23" value="a"> a/an</label>
        <label><input type="radio" name="q23" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q24">
      <legend>24. Apart from ___ occasional clank.</legend>
      <div class="options">
        <label><input type="radio" name="q24" value="the"> the</label>
        <label><input type="radio" name="q24" value="a"> a/an</label>
        <label><input type="radio" name="q24" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q25">
      <legend>25. Clank of ___ piece of metal.</legend>
      <div class="options">
        <label><input type="radio" name="q25" value="the"> the</label>
        <label><input type="radio" name="q25" value="a"> a/an</label>
        <label><input type="radio" name="q25" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q26">
      <legend>26. Of ___ piece of metal dropping off.</legend>
      <div class="options">
        <label><input type="radio" name="q26" value="the"> the</label>
        <label><input type="radio" name="q26" value="a"> a/an</label>
        <label><input type="radio" name="q26" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <fieldset id="q27">
      <legend>27. No one but me batted ___ eye.</legend>
      <div class="options">
        <label><input type="radio" name="q27" value="the"> the</label>
        <label><input type="radio" name="q27" value="a"> a/an</label>
        <label><input type="radio" name="q27" value="nothing"> nothing</label>
      </div>
    </fieldset>

    <button type="submit">Submit Answers</button>
  </form>

  <div id="results"></div>

  <script>
    (function() {
      const form = document.getElementById('articleTest');
      const total = 27;
      const progressDiv = document.getElementById('progress');
      const errorDiv = document.getElementById('error');
      const correctAnswers = {
        q1: 'the', q2: 'a',  q3: 'a',  q4: 'a',  q5: 'the',
        q6: 'the', q7: 'the',q8: 'the',q9: 'a', q10: 'the',
        q11:'the',q12:'a', q13:'the',q14:'the',q15:'the',
        q16:'the',q17:'the',q18:'the',q19:'the',q20:'the',
        q21:'the',q22:'the',q23:'the',q24:'the',q25:'the',
        q26:'a', q27:'the'
      };
      const explanations = {
        q1: 'Use "the" because Via Sistina is unique.',
        q2: 'Use "a" for one instance of Fiat Croma.',
        q3: 'Use "a" for a nonspecific smoky halt.',
        q4: 'Use "a" for one hundred feet.',
        q5: 'Use "the" for that specific road.',
        q6: 'Use "the" to refer back to that driver.',
        q7: 'Use "the" for the particular street.',
        q8: 'Use "the" for that specific direction.',
        q9: 'Use "a" for an unspecified parking space.',
        q10:'Use "the" before length in a precise measure.',
        q11:'Use "the" for the parked Renault just involved.',
        q12:'Use "a" for one minute.',
        q13:'Use "the" for the hiss already mentioned.',
        q14:'Use "the" to refer back to the driver.',
        q15:'Use "the" for the specific devastation.',
        q16:'Use "the" for that exhaust pipe.',
        q17:'Use "the" for the identifiable pavement.',
        q18:'Use "the" for the sky in context.',
        q19:'Use "the" for that specific Renault.',
        q20:'Use "the" for that side of the car.',
        q21:'Use "the" for the particular door.',
        q22:'Use "the" in the idiom "the gall to…".',
        q23:'Use "the" for Via Sistina again.',
        q24:'Use "the" for that occasional clank.',
        q25:'Use "the" before piece when specific.',
        q26:'Use "a" for one piece of metal.',
        q27:'Use "the" for that eye.'
      };

      function updateProgress() {
        let answered = 0;
        for (let i = 1; i <= total; i++) {
          if (form.querySelector(`input[name="q${i}"]:checked`)) {
            answered++;
          }
        }
        progressDiv.textContent = `Questions answered: ${answered} of ${total}`;
      }

      form.addEventListener('change', () => {
        errorDiv.textContent = '';
        Array.from(form.querySelectorAll('fieldset')).forEach(fs => {
          fs.classList.remove('invalid');
        });
        updateProgress();
      });

      form.addEventListener('submit', function(e) {
        e.preventDefault();
        errorDiv.textContent = '';
        let allAnswered = true;

        // validate all answered
        for (let i = 1; i <= total; i++) {
          const fieldset = form.querySelector(`#q${i}`);
          if (!form.querySelector(`input[name="q${i}"]:checked`)) {
            allAnswered = false;
            fieldset.classList.add('invalid');
          }
        }
        if (!allAnswered) {
          errorDiv.textContent = 'Please answer all questions before submitting.';
          return;
        }

        // scoring
        let score = 0;
        let output = '';
        for (let i = 1; i <= total; i++) {
          const key = 'q' + i;
          const userAnswer = form.querySelector(`input[name="${key}"]:checked`).value;
          const correct = correctAnswers[key];
          const isCorrect = userAnswer === correct;
          if (isCorrect) score++;
          output += `
            <div class="question-result">
              <strong>${i}.</strong> You answered "<em>${userAnswer}</em>". 
              ${isCorrect ? '<span class="correct">Correct.</span>' : '<span class="incorrect">Incorrect.</span>'}
              <div class="explanation">${explanations[key]}</div>
            </div>
          `;
        }
        output += `<h3>Your total score: ${score} / ${total}</h3>`;
        document.getElementById('results').innerHTML = output;
      });

      // initialize progress
      updateProgress();
    })();
  </script>
</body>
</html>
